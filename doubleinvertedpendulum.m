function [f]= doubleinvertedpendulum (t,y)
    m1=0.35;m2=0.55;
    l1=0.25;l2=0.35;
    %m1=35;m2=1.5;
    %l1=0.762;l2=0.762;
    a1=0.03;a2=0.025;
    w1=13;
    w2=19;
    g=9.8;
    A1=(m1+m2)*g/l1*(m1+2*m2);
    A2=(m1+m2)/l1*(m1+2*m2);
    A3=m2*g/l1*(m1+2*m2);
    A4=m2/l1*(m1+2*m2);
    A5=m2/(m1+2*m2);
    A6=m2*l2/l1*(m1+2*m2);
    A7=(m1+m2)*g/l2*(m1+2*m2);
    A8=m1+m2/l2*(m1+2*m2);
    A9= (m1+3*m2)*g/l2*(m1+2*m2);
    A10=m1+3*m2/l2*(m1+2*m2);
    A11=l1*(m1+3*m2)/l2*(m1+2*m2);
    A12=m2/m1+2*m2;  
    f(1)=y(2);
    f(2)=-(A1-A2*(a1*w1^2*sin(w1*t)+a2*w2^2*sin(w2*t)))*y(1) + (A3-A4*(a1*w1^2*sin(w1*t)+a2*w2^2*sin(w2*t)))*y(3) - (A5*y(2)^2*(y(1)-y(3))) - (A6*y(4)^2*(y(1)-y(3)));
    f(3)=y(4);
    f(4)=(A7-A8*(a1*w1^2*sin(w1*t)+a2*w2^2*sin(w2*t)))*y(1) - (A9-A10*(a1*w1^2*sin(w1*t)+a2*w2^2*sin(w2*t)))*y(3) + (A11*y(2)^2*(y(1)-y(3))) + (A12*y(4)^2*(y(1)-y(3)));
    
f=f';